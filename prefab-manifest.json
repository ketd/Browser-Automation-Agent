{
  "schema_version": "1.0",
  "id": "browser-automation-agent",
  "version": "0.1.0",
  "name": "浏览器自动化代理",
  "description": "通过自然语言执行浏览器自动化任务，支持网页访问、信息提取和文件下载",
  "author": "Your Name",
  "github_url": "https://github.com/your-org/browser-automation-agent",
  "tags": [
    "browser",
    "automation",
    "web-scraping",
    "ai-agent",
    "playwright"
  ],
  "entry_point": "src/main.py",
  "dependencies_file": "pyproject.toml",
  "functions": [
    {
      "name": "execute_browser_task",
      "description": "执行浏览器自动化任务，支持网页访问、信息提取和文件下载。通过自然语言描述任务，自动执行浏览器操作。",
      "parameters": [
        {
          "name": "url",
          "type": "string",
          "description": "目标网页的 URL 地址",
          "required": true
        },
        {
          "name": "query",
          "type": "string",
          "description": "任务描述（自然语言），例如：'提取页面主要内容'、'下载最新的PDF文件'、'找到逾期承兑人名单并下载'",
          "required": true
        }
      ],
      "files": {
        "output": {
          "type": "array",
          "items": {
            "type": "OutputFile"
          },
          "description": "任务执行过程中下载或生成的文件"
        }
      },
      "returns": {
        "type": "object",
        "description": "任务执行结果",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "任务是否执行成功"
          },
          "message": {
            "type": "string",
            "description": "任务执行描述信息（成功时）",
            "optional": true
          },
          "result": {
            "type": "object",
            "description": "任务结果数据（成功时）",
            "optional": true,
            "properties": {
              "type": {
                "type": "string",
                "description": "结果类型：text（文本）、file（文件）、mixed（混合）",
                "enum": ["text", "file", "mixed"]
              },
              "data": {
                "type": "object",
                "description": "文本数据（type=text时存在）",
                "optional": true
              },
              "files": {
                "type": "array",
                "description": "文件信息列表（type=file时存在）",
                "optional": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "filename": {
                      "type": "string",
                      "description": "文件名"
                    },
                    "size_bytes": {
                      "type": "integer",
                      "description": "文件大小（字节）"
                    },
                    "mime_type": {
                      "type": "string",
                      "description": "文件 MIME 类型"
                    }
                  }
                }
              }
            }
          },
          "error": {
            "type": "string",
            "description": "错误信息（失败时）",
            "optional": true
          },
          "error_code": {
            "type": "string",
            "description": "错误代码（失败时）",
            "optional": true,
            "enum": [
              "INVALID_URL",
              "INVALID_QUERY",
              "MISSING_API_URL",
              "TIMEOUT",
              "API_ERROR",
              "FILE_DOWNLOAD_ERROR",
              "FILE_SAVE_ERROR",
              "TASK_FAILED",
              "UNEXPECTED_ERROR"
            ]
          }
        }
      },
      "secrets": [
        {
          "name": "BROWSER_API_URL",
          "description": "浏览器自动化后端 API 的地址，例如：http://192.168.1.218:52101",
          "instructions": "请填写浏览器自动化服务的完整 URL 地址（包含协议和端口），服务需要支持 /agent/task 和 /downloads/{file_id} 接口",
          "required": true
        }
      ]
    }
  ],
  "execution_environment": {
    "cpu": "1000m",
    "memory": "512Mi"
  }
}
